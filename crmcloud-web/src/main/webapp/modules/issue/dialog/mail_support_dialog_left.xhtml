<?xml version='1.0' encoding='UTF-8' ?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:p="http://primefaces.org/ui"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">

    <p:panelGrid id="panelGridColumnLeft" styleClass="panelGridDialogMailSupport" style="min-width: 240px !important;">
        <p:row>
            <p:column colspan="2" styleClass="td_center td_padding">
                <p:commandButton
                    process="@this"
                    actionListener="${issueSupportController.openSampleDialog()}"
                    value="${mailBundle['label.mail.example']}"
                    icon="fa fa-folder-open-o"
                    styleClass="menu-toggle">
                    <f:param name="openDialogURL" value="/modules/issue/dialog/sample_dialog" />
                    <f:param name="width" value="800" />
                    <f:param name="height" value="600" />
                    <f:param name="msgType" value="3" />
                    <p:ajax event="dialogReturn" update="@this:inputTextareaSupportMailBody" />
                </p:commandButton>

                <p:commandButton
                    type="button"
                    onclick="btGetSelection('${issue['label.not.select.quotation']}');"
                    actionListener="${issueSupportController.addSelectedText}"
                    icon="fa fa-cut"
                    value="${mailBundle['label.mail.quotation']}"
                    process="@this" />
                <p:remoteCommand
                    name="sendSelection"
                    actionListener="#{issueSupportController.addSelectedText}"
                    update="@this:inputTextareaSupportMailBody" process="@this" />

                <p:splitButton
                    value="${issue['label.mail_signature_name']}"
                    icon="fa fa-legal"
                    styleClass="splitButton_not_value">
                    <c:forEach var="sample" items="#{issueSupportController.escalationSamples}">
                        <p:menuitem>
                            <p:commandLink
                                actionListener="#{issueSupportController.onSelectEscalationSample}"
                                process="@this" update="@this:inputTextareaSupportMailBody"
                                styleClass="navBarMenuitemCommandLink" >
                                <i class="fa fa-legal"></i>
                                <h:outputLabel value="#{sample.getItemViewData(loginController.member.language)}" />
                                <f:param name="escSampleId" value="#{sample.itemId}" />
                            </p:commandLink>
                        </p:menuitem>
                    </c:forEach>
                </p:splitButton>
                <p/>
            </p:column>
        </p:row>

        <p:row>
            <p:column colspan="2">
                <h:outputLabel value="#{mailBundle['label.mail.cust.name']}" style="float: left"/>
                <p:inputTextarea
                    rows="2" readonly="true"
                    autoResize="false" style="width: 170px !important;"
                    value="#{issueSupportController.customerName}" />
            </p:column>
        </p:row>
        <p:row>
            <p:column colspan="2">
                <h:outputLabel value="#{issue['label.issue_product_name']}" style="float: left"/>
                <p:inputTextarea
                    rows="2" readonly="true"
                    autoResize="false" style="width: 170px !important;"
                    value="#{issueController.issue.getIssueProductName(localeController.locale)}" />
            </p:column>
        </p:row>
        <p:row>
            <p:column colspan="2" styleClass="td_center td_background_gray">
                <h:outputLabel value="#{issue['label.issue_content_ask']}" />
            </p:column>
        </p:row>
        <p:row>
            <p:column colspan="2" styleClass="td_not_padding" style="margin: 0; padding: 0 !important">
                <div style="height: 430px; padding: 5px; overflow-y:  auto; text-align: left; font-weight: normal; border: 1px solid #ccc;">
                    #{issueController.issue.issueInfoList[0].issueContentAsk}
                </div>
            </p:column>
        </p:row>
    </p:panelGrid>
</ui:composition>