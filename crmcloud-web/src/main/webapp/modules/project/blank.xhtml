<?xml version='1.0' encoding='UTF-8' ?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:p="http://primefaces.org/ui"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:c="http://java.sun.com/jsp/jstl/core"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
    <h:form id="projectList" onkeypress="if (event.keyCode === 13 &amp;&amp; $(event.target).prop('tagName') !== 'TEXTAREA') { return false; }" prependId="false">
        <h:panelGrid width="100%" styleClass="page-header" style="margin: 0;padding: 0;">
            <f:facet name="header">
                <!-- Content Header (Page header) -->
                <div class="row">
                    <div class="col-md-6">
                        <h1>
                            <small>
                                
                            </small>
                        </h1>
                    </div>
                    <div class="col-md-6 text-right">
                        <c:choose>
                            <c:when test="#{loginController.member.companyCustomerMode}">
                            </c:when>
                            <c:otherwise>
                                <p:commandButton
                                    value="${msg['label.create']}"
                                    rendered="#{(sec.isMaster() or sec.hasMethod('IssueController', 'create'))}"
                                    actionListener="#{issueController.create}"
                                    icon="fa fa-plus-circle"  
                                    update="mainContent"
                                    onstart="start()" onsuccess="finish()">
                                    <f:param name="issueIdx" value="notNext" />
                                    <f:param name="force" value="true"/>
                                </p:commandButton>
                                <p:commandButton type="button"
                                    rendered="#{(sec.isMaster() or sec.hasMethod('IssueController', 'upload'))}"
                                    value="${msg['label.import']}"
                                    icon="fa fa-cloud-upload"
                                    onclick="PF('uploadPanel').show();"/>
                            </c:otherwise>
                        </c:choose>
                    </div>
                </div>
                <ui:include src="/modules/project/import_dialog.xhtml"/>
            </f:facet>
            <h:commandLink actionListener="#{issueImportController.downloadResult()}" target="_blank" id="importResult">
                <f:param name="force" value="true"/>
            </h:commandLink>
        </h:panelGrid>
    </h:form>
</ui:composition>

