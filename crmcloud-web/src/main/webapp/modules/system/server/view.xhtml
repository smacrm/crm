<?xml version='1.0' encoding='UTF-8' ?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    <div id="pageTitle">#{mailBundle['label.mail.server.information.title']} #{msg['symbol.paren.left']}#{mailBundle['label.mail.server.title.detail']}#{msg['symbol.paren.right']}</div>
    <h:form id="frmServerDetail">
        <p:confirmDialog message="#{systemBundle['label.system.del.message']}" header="#{msg['label.dialog.header']}"
                         widgetVar="confirmDeleteServer" id="confirmDeleteServer">
            <p:commandButton value="#{msg['label.dialog.yes']}" onclick="PF('confirmDeleteServer').hide();"
                             update="mainContent :growl"
                             actionListener="#{serverController.delete}"
                             icon="ui-icon-check">
                <f:param name="serverId" value="#{serverController.model.server.serverId}"/>
                <f:param name="force" value="true"/>
            </p:commandButton>
            <p:commandButton value="#{msg['label.dialog.no']}"
                             onclick="PF('confirmDeleteServer').hide();"
                             type="button" icon="ui-icon-close"/>
            
        </p:confirmDialog>
        <h:panelGrid width="100%" styleClass="page-header">
            <f:facet name="header">
                <div class="row">
                    <div class="col-md-6">
                        <h1>
                            #{mailBundle['label.mail.server.information.title']}
                            <small>#{mailBundle['label.mail.server.title.detail']}</small>
                        </h1>
                    </div>
                    <div class="col-md-6 text-right">
                        <p:commandButton value="#{msg['label.back']}" icon="fa fa-chevron-circle-left"
                                         actionListener="#{serverController.load}"
                                         title="#{msg['label.back']}" update="mainContent" process="@this"
                                         onstart="start()" onsuccess="finish()">
                            <f:param name="force" value="true"/>
                        </p:commandButton>

                        <p:commandButton value="#{msg['label.edit']}" icon="fa fa-pencil fa-fw"
                                         title="#{msg['label.edit']}"
                                         rendered="#{sec.hasMethod('ServerController', 'update')}"
                                         update="mainContent" actionListener="#{serverController.show}"
                                         id="btnEdit"
                                         onstart="start()" onsuccess="finish()">
                            <f:param name="showType" value="edit"/>
                            <f:param name="serverId" value="#{serverController.model.server.serverId}"/>
                            <f:param name="force" value="true"/>
                        </p:commandButton>

                        <p:commandButton value="#{msg['label.delete']}"
                                         title="#{msg['label.delete']}"
                                         id="btnDelete"
                                         icon="fa fa-trash"
                                         rendered="${sec.hasMethod('ServerController', 'delete')}"
                                         onclick="PF('confirmDeleteServer').show();"
                                         type="button">
                            <f:param name="force" value="true"/>
                        </p:commandButton>
                        <p:commandButton title="#{msg['label.previous']}"
                                         icon="fa fa-angle-left" styleClass="ui-corner-left"
                                         actionListener="#{serverController.previousOne}"
                                         disabled="#{serverController.currentRowNum == 0}" 
                                         update="pgServer,btnNext,lblNextPre,btnPrevious,confirmDeleteServer,btnEdit,btnDelete"
                                         id="btnPrevious"
                                         onstart="start()" onsuccess="finish()"
                                         rendered="#{sec.master}"/>
                        <p:commandButton value="#{serverController.currentRowNum + 1}/#{serverController.models.rowCount}"
                                         styleClass="ui-corner-none" id="lblNextPre"
                                         rendered="#{sec.master}"/>
                        <p:commandButton title="#{msg['label.next']}"
                                         icon="fa fa-angle-right" styleClass="ui-corner-right"
                                         id="btnNext"
                                         actionListener="#{serverController.nextOne}"
                                         disabled="#{serverController.currentRowNum == serverController.models.rowCount -1 }"
                                         update="pgServer,btnNext,lblNextPre,btnPrevious,confirmDeleteServer,btnEdit,btnDelete"
                                         onstart="start()" onsuccess="finish()"
                                         rendered="#{sec.master}"/>
                        <p:commandButton value="#{msg['label.print']}"
                                         title="#{msg['label.print']}"
                                         icon="ui-icon-print" type="button"
                                         onstart="start()" onsuccess="finish()">
                            <p:printer target="pgServer"/>
                        </p:commandButton> 
                    </div>
                </div>
            </f:facet>
        </h:panelGrid>
            <div class="box box-solid box-view-mode">
            <div class="box-body">
                <p:panelGrid id="pgServer" styleClass="crmcloud-panelgrid">
                    <p:row>
                        <p:column styleClass="label-field">
                            <p:outputLabel value="#{systemBundle['label.system.server.name']}"/>
                        </p:column>
                        <p:column colspan="3">
                            <p:outputLabel value="#{serverController.model.server.serverName}"
                                           style="width: 100%;"/>
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column styleClass="label-field">
                            <p:outputLabel value="#{systemBundle['label.system.server.type']}"/>
                        </p:column>
                        <p:column colspan="3">
                            <p:outputLabel value="#{serverController.model.server.serverType}"/>
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column styleClass="label-field">
                            <p:outputLabel value="#{systemBundle['label.system.server.folder']}"/>
                        </p:column>
                        <p:column colspan="3">
                            <p:outputLabel value="#{serverController.model.server.serverFolder}"/>
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column styleClass="label-field">
                            <p:outputLabel value="#{systemBundle['label.system.server.host']}"/>
                        </p:column>
                        <p:column >
                            <p:outputLabel value="#{serverController.model.server.serverHost}"/>
                        </p:column>
                        <p:column styleClass="label-field">
                            <p:outputLabel value="#{systemBundle['label.system.server.port']}"/>
                        </p:column>
                        <p:column >
                            <p:outputLabel value="#{serverController.model.server.serverPort}"/>
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column styleClass="label-field">
                            <p:outputLabel value="#{systemBundle['label.system.server.username']}"/>
                        </p:column>
                        <p:column colspan="3">
                            <p:outputLabel value="#{serverController.model.server.serverUsername}"/>
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column styleClass="label-field">
                            <p:outputLabel value="#{systemBundle['label.system.server.password']}"/>
                        </p:column>
                        <p:column colspan="3">
                            <!--<p:outputLabel value="#{serverController.model.server.serverPassword}"/>-->
                            <p:password value="#{serverController.model.server.serverPassword}" styleClass="input_text" redisplay="true" readonly="true" style="width: 100%; border: none;">
                            </p:password>
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column styleClass="label-field">
                            <p:outputLabel value="#{systemBundle['label.system.server.ssl']}"/>
                        </p:column>
                        <p:column style="width: 375px;">
                            <p:selectBooleanCheckbox value="#{serverController.model.serverSsl}"
                                                     disabled="true"/>
                        </p:column>
                        <p:column styleClass="label-field">
                            <p:outputLabel value="#{systemBundle['label.system.server.protocol']}"/>
                        </p:column>
                        <p:column >
                            <p:outputLabel value="#{serverController.model.server.serverProtocol}" rendered="#{serverController.model.serverSsl}"/>
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column styleClass="label-field">
                            <p:outputLabel value="#{systemBundle['label.system.server.memo']}"/>
                        </p:column>
                        <p:column style="width: 375px;" colspan="3">
                            <p:outputLabel value="#{serverController.model.server.serverMemo}" style="word-break: break-all"/>
                        </p:column>
                    </p:row>
                </p:panelGrid>
            </div>
            </div>
    </h:form>
</ui:composition>
